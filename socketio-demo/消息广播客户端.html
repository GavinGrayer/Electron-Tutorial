<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>socket.io</title>
    <script src="http://118.123.14.36:3000/socket.io/socket.io.js"></script>
</head>
<body>
<h1>electron消息广播客户端</h1>
<input type="button" value="给所有electron客户端广播数据" onclick="sendNews()"><br>

</body>
</html>

<script type="text/javascript">

    //和服务器建立长连接
    var socket = io.connect('http://localhost:3000');

    //接收服务器返回的信息
    socket.on('serverEmit',function(data){

        console.log(data);
    });


    //发送消息
    function sendNews(){
        socket.emit('sendNews',{
            "title":"李克强会见美国客人：中方将继续成为外国投资的热土",
            "url":"https://www.chinanews.com/gn/2018/09-07/8621613.shtml"
        });
    }

</script>